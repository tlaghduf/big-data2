가비지 컬렉션(Garbage Collection)은 프로그래밍 언어에서 자동으로 동적으로 할당된 메모리 중에서 더 이상 사용되지 않는 객체 또는 메모리 블록을 식별하고 회수하는 프로세스를 말합니다. 즉, 프로그램이 실행되는 동안 동적으로 할당된 메모리 영역 중에서 사용되지 않는 메모리를 자동으로 해제하여 메모리 관리를 지원하는 기능입니다.

가비지 컬렉션이 필요한 이유는 프로그래머가 명시적으로 메모리를 할당하고 해제하는 번거로움과 실수를 줄여줍니다. 일반적으로 가비지 컬렉션은 메모리 누수(memory leak)와 같은 일반적인 메모리 관련 오류를 방지하고, 메모리 관리를 더욱 편리하게 만들어줍니다.

가비지 컬렉션의 작동 방식은 프로그래밍 언어와 런타임 환경에 따라 다를 수 있습니다. 대부분의 현대적인 프로그래밍 언어 및 실행환경(예: Java, C#, Python)에서는 가비지 컬렉션을 지원하며, 자동으로 메모리 관리를 처리합니다. 가비지 컬렉션은 주기적으로 실행되며, 사용되지 않는 객체 또는 메모리를 식별하여 해제합니다. 이 과정에서 가비지 컬렉션 알고리즘은 도달 가능한 객체를 식별하고, 도달할 수 없는 객체(가비지)를 식별하여 회수합니다.

가비지 컬렉션은 메모리 관리를 단순화하고 개발자의 부담을 줄여주지만, 일정한 오버헤드와 실행 시간을 필요로 할 수 있습니다. 따라서 가비지 컬렉션 알고리즘의 성능과 효율성은 중요한 요소가 될 수 있습니다.

가비지 컬렉션을 제대로 동작되도록 하기위해서는 여러가지 주의사항이 있습니다.
1. 불필요한 객체 참조를 피해야합니다. 
2. 메모리 누수 방지를 해야합니다.
3. 대용량 데이터 처리시에 주의해야합니다.
4. 네이티브 리소스 관리를 해야합니다.
5. 메모리 사용 패턴을 고려해야합니다.


가비지 컬렉션 로도 메모리 leak는 다음과 같은 상황에 발생됩니다. 

        function createUser() {
        const name = "John"; // 일반 변수
        return {
       getName: function() {
       return name;
            }
          };
        }
  
        function processUser() {
        const user = createUser();
        console.log(user.getName());
        // 이후 user 객체를 더 이상 사용하지 않음
        }

        processUser();


위의 코드에서 createUser 함수는 사용자 객체를 생성하고 해당 객체의 이름을 반환하는 클로저를 반환합니다. 그러나 processUser 함수에서 user 객체를 생성하고 user.getName()을 호출한 후, user 객체를 더 이상 사용하지 않습니다.

이 예제에서는 user 객체를 더 이상 참조하지 않게 되었지만, user 객체는 여전히 createUser 함수의 스코프에서 참조되고 있습니다. 이는 메모리에 불필요한 객체를 유지하게 되는 메모리 누수 상황입니다. 가비지 컬렉션은 user 객체를 회수할 수 없으므로 메모리 사용량이 계속 증가할 수 있습니다.
이러한 메모리 누수를 해결하기 위해 processUser 함수의 마지막에 user 객체에 대한 참조를 해제해야 합니다. 예를 들어 다음과 같이 user를 null로 설정하여 참조를 제거할 수 있습니다:

    -출처 gpt-



